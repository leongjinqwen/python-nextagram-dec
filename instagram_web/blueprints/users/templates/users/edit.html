{% extends '_layout.html' %}

{% block content %}
<h1>{{user.username}}</h1>
<form action="{{url_for('users.update',id=user.id)}}" method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <label for="username">Username :</label>
    <div class="input-group">
        <input type="text" class="form-control" disabled name="username" value={{user.username}} placeholder="User's username" aria-label="User's username with two button addons" aria-describedby="button-addon4">
        <button class="btn btn-outline-primary edit" type="button">Edit</button>
        <button class="btn btn-outline-success" type="submit">Submit</button>
    </div>
</form>
<form action="{{url_for('users.update',id=user.id)}}" method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <label for="email">Email :</label>
    <div class="input-group">
        <input type="email" class="form-control" disabled name="email" value={{user.email}} placeholder="User's email" aria-label="User's e with two button addons" aria-describedby="button-addon4">
        <button class="btn btn-outline-primary edit" type="button">Edit</button>
        <button class="btn btn-outline-success" type="submit">Submit</button>
    </div>
</form>
<form action="{{url_for('users.update',id=user.id)}}" method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <label for="password">Password :</label>
    <div class="input-group">
        <input type="password" class="form-control" disabled name="password" placeholder="New password" aria-label="User's password with two button addons" aria-describedby="button-addon4">
        <button class="btn btn-outline-primary edit" type="button">Edit</button>
        <button class="btn btn-outline-success" type="submit">Submit</button>
    </div>
</form>


<form action="/" method="POST" enctype="multipart/form-data">

    <label for="user_file">Upload Your File:</label>
    <br>
    <input type="file" name="user_file">
    <br>
    <button type="submit">Upload</button>

</form>

<script>
    let editButtons = document.getElementsByClassName('edit')
    for (let i=0;i<editButtons.length;i++){
        editButtons[i].addEventListener('click',function(e){
            if (e.target.previousElementSibling.hasAttribute('disabled')){
                e.target.previousElementSibling.removeAttribute('disabled')
            }
            else {
                e.target.previousElementSibling.setAttribute('disabled',true)
            }
        })

    }
</script>
{% endblock %}